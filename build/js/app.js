const form=document.querySelector(".tip-form"),billInput=document.querySelector("#bill"),percentagesInputs=document.querySelectorAll('input[type="radio"]'),customInput=document.querySelector("#tip-c"),numberPeopleInput=document.querySelector("#NoP"),checked=document.createAttribute("checked"),reset=document.querySelector("#reset");class Summary{constructor(e,t,r){this.bill=e,this.percentage=t,this.people=r,this.tipPP="",this.tipTotal="",this.calcTip()}calcTip(){this.tipPP=parseFloat(this.bill*this.percentage),this.tipTotal=this.tipPP*this.people}reset(){this.bill=0,this.percentage=1.05,this.people=0,this.calcTip()}}class UI{printTip(e){const{bill:t,people:r,percentage:n,tipPP:u,tipTotal:i}=e,l=document.querySelector("#amount span"),o=document.querySelector("#total span");l.textContent=0!==t?u.toFixed(2):"0.00",o.textContent=0!==r?i.toFixed(2):"0.00"}printError(e,t){const r=document.querySelectorAll(".error"),n=document.createElement("div");n.classList.add("error"),n.textContent=e,0===r.length&&(form.insertBefore(n,t.nextSibling),setTimeout(()=>{n.remove()},3e3))}}const ui=new UI;let summary;function events(){billInput.addEventListener("input",buildBill),document.addEventListener("DOMContentLoaded",()=>{percentagesInputs.forEach(e=>{"1.05"===e.value&&(e.setAttributeNode(checked),buildBill())})}),percentagesInputs.forEach(e=>{e.addEventListener("input",()=>{document.querySelector('input[type="radio"][checked]').removeAttributeNode(checked),e.setAttributeNode(checked),buildBill()})}),customInput.addEventListener("input",buildBill),numberPeopleInput.addEventListener("input",e=>{if(""!==e.target.value&&"0"!==e.target.value)buildBill();else{const e=document.querySelector("#peopleDiv");ui.printError("Can't be zero",e)}}),numberPeopleInput.addEventListener("blur",()=>{}),reset.addEventListener("click",e=>{e.preventDefault(),form.reset(),summary.reset(),ui.printTip(summary)})}function buildBill(){let e,t;if(e=billInput.value.includes(",")?Number(billInput.value.replace(/,/g,".")):Number(billInput.value),""===customInput.value){const e=document.querySelector('input[type="radio"][checked]').value;t=parseFloat(e)}else t=parseFloat(customInput.value);const r=Number(numberPeopleInput.value);validate(e,t,r)&&(summary=new Summary(e,t,r),console.log(summary),ui.printTip(summary))}function validate(e,t,r){if(isNaN(e)){const e=document.querySelector("#billDiv");return ui.printError("Introduce only numbers",e),!1}if(isNaN(t)){const e=document.querySelector(".tip-select");return ui.printError("Introduce only numbers",e),!1}if(isNaN(r)){const e=document.querySelector("#peopleDiv");return ui.printError("Introduce only numbers",e),!1}return!0}events();
//# sourceMappingURL=app.js.map
