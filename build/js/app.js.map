{"version":3,"sources":["app.js"],"names":["form","document","querySelector","billInput","percentagesInputs","querySelectorAll","customInput","numberPeopleInput","checked","createAttribute","reset","Summary","[object Object]","bill","percentage","people","this","tipPP","tipTotal","calcTip","parseFloat","UI","summary","summaryAmount","summaryTotal","textContent","toFixed","message","reference","errores","div","createElement","classList","add","length","insertBefore","nextSibling","setTimeout","remove","ui","events","addEventListener","buildBill","forEach","percentageInput","value","setAttributeNode","removeAttributeNode","e","target","printError","preventDefault","printTip","includes","Number","replace","validate","console","log","isNaN"],"mappings":"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","file":"app.js","sourcesContent":["// Variables \r\nconst form = document.querySelector('.tip-form');\r\nconst billInput = document.querySelector('#bill');\r\nconst percentagesInputs = document.querySelectorAll('input[type=\"radio\"]');\r\nconst customInput = document.querySelector('#tip-c');\r\nconst numberPeopleInput = document.querySelector('#NoP');\r\nconst checked = document.createAttribute('checked');\r\nconst reset = document.querySelector('#reset');\r\n// Classes\r\nclass Summary{\r\n    constructor(bill, percentage, people){\r\n        this.bill = bill;\r\n        this.percentage = percentage;\r\n        this.people = people;\r\n        this.tipPP = '';\r\n        this.tipTotal = '';\r\n        this.calcTip();\r\n    }\r\n    calcTip() {\r\n        this.tipPP = parseFloat((this.bill * this.percentage));\r\n        this.tipTotal = this.tipPP * this.people;\r\n    }\r\n\r\n    reset() {\r\n        this.bill = 0;\r\n        this.percentage = 1.05;\r\n        this.people = 0;\r\n        this.calcTip();\r\n    }\r\n}\r\n\r\nclass UI {\r\n    printTip(summary) {\r\n        const {bill, people, percentage, tipPP, tipTotal} = summary;\r\n        const summaryAmount = document.querySelector('#amount span');\r\n        const summaryTotal = document.querySelector('#total span');\r\n        \r\n        if(bill !== 0) {\r\n            summaryAmount.textContent = tipPP.toFixed(2);\r\n        } else {\r\n            summaryAmount.textContent = '0.00';\r\n        }\r\n\r\n        if(people !== 0) {\r\n            summaryTotal.textContent = tipTotal.toFixed(2);\r\n        } else {\r\n            summaryTotal.textContent = '0.00';\r\n        }\r\n    }\r\n\r\n    printError(message, reference){\r\n        const errores = document.querySelectorAll('.error');\r\n        const div = document.createElement('div');\r\n        div.classList.add('error');\r\n        div.textContent = message;\r\n\r\n        if(errores.length === 0) {\r\n            form.insertBefore(div, reference.nextSibling);\r\n            setTimeout(() => {\r\n                div.remove();\r\n            }, 3000);\r\n        }\r\n    }\r\n}\r\n\r\nconst ui = new UI();\r\nlet summary;\r\n\r\n// Event Listeners\r\nevents();\r\n\r\nfunction events(){\r\n    billInput.addEventListener('input', buildBill);\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n        percentagesInputs.forEach(percentageInput => {\r\n            if(percentageInput.value === '1.05') {\r\n                percentageInput.setAttributeNode(checked);\r\n                buildBill();\r\n            }\r\n        });\r\n    });\r\n    percentagesInputs.forEach(percentageInput => {\r\n        percentageInput.addEventListener('input', () => {\r\n            document.querySelector('input[type=\"radio\"][checked]').removeAttributeNode(checked);\r\n            percentageInput.setAttributeNode(checked);\r\n            buildBill();\r\n        });\r\n    });\r\n    customInput.addEventListener('input', buildBill);\r\n    numberPeopleInput.addEventListener('input', (e) => {\r\n        if(e.target.value === '' || e.target.value === '0') {\r\n            const reference = document.querySelector('#peopleDiv');\r\n            ui.printError('Can\\'t be zero', reference);\r\n            return;\r\n        }\r\n\r\n        buildBill();\r\n    });\r\n    numberPeopleInput.addEventListener('blur', () => {\r\n    \r\n    });\r\n    reset.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        form.reset();\r\n        summary.reset();\r\n        ui.printTip(summary);\r\n    });\r\n}\r\n\r\n// Functions\r\nfunction buildBill() {\r\n    // Bill\r\n    let bill;\r\n    if(billInput.value.includes(',')) {\r\n        bill = Number(billInput.value.replace(/,/g, '.'));\r\n    } else {\r\n        bill = Number(billInput.value);\r\n    }\r\n    // Percentage\r\n    let percentage;\r\n    if(customInput.value === '') {\r\n        const checked = document.querySelector('input[type=\"radio\"][checked]').value;\r\n        percentage = parseFloat(checked);\r\n    } else {\r\n        percentage = parseFloat(customInput.value);\r\n    }\r\n    // People\r\n    const people = Number(numberPeopleInput.value);\r\n    // Validation\r\n    const response = validate(bill, percentage, people);\r\n    \r\n    if(response) {\r\n        summary = new Summary(bill, percentage, people);\r\n        console.log(summary);\r\n        ui.printTip(summary);\r\n    }\r\n}\r\n\r\nfunction validate(bill, percentage, people){\r\n    if(isNaN(bill)) {\r\n        const reference = document.querySelector('#billDiv');\r\n        ui.printError('Introduce only numbers', reference);\r\n        return false;\r\n    }\r\n    if(isNaN(percentage)) {\r\n        const reference = document.querySelector('.tip-select');\r\n        ui.printError('Introduce only numbers', reference);\r\n        return false;\r\n    }\r\n    if(isNaN(people)) {\r\n        const reference = document.querySelector('#peopleDiv');\r\n        ui.printError('Introduce only numbers', reference);\r\n        return false;\r\n    }\r\n    \r\n    return true;\r\n}"]}